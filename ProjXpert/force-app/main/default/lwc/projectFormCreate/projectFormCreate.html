<template>
    <!-- Manual DOM handling (workaround #885) -->
    <div class="container" lwc:dom="manual"></div>

    <!-- New Project as the default screen -->
    <lightning-card title="New Project">
        <lightning-record-form
            object-api-name={objectApiName}
            fields={fields}
            onsuccess={handleSuccess}
        >
        </lightning-record-form>
    </lightning-card>

    <!-- New Milestone when a Project is created -->
    <template lwc:if={recordId}>
        <lightning-card title="New Milestone">
            <lightning-record-form
                data-id="milestoneForm"
                object-api-name="Milestone__c"
                fields={fields}
                onsubmit={handleMilestone}
                onsuccess={handleMilestoneSuccess}
            >
            </lightning-record-form>
        </lightning-card>
    </template>

    <!-- New To-Do Item when a Milestone is created -->
    <template lwc:if={milestoneId}>
        <lightning-card title="New To-Do Item">
            <lightning-record-form
                data-id="todoForm"
                object-api-name="To_Do_Item__c"
                fields={fields}
                onsubmit={handleTodo}
            >
            </lightning-record-form>
        </lightning-card>
    </template>
</template>
